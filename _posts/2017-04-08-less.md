---
layout: post
category : less
tagline: "使用小结"
tags : [less, css]
---

> less 一种动态样式语言

* [less 介绍](http://www.bootcss.com/p/lesscss/) *`很适合入门`*
* [less 快速入门](http://less.bootcss.com/)
* [less 快速入门（官网）](http://lesscss.org/)
* [less 源代码](https://github.com/less/less.js)
* [less 在线编译器](http://less2css.org/)

> bem  一种样式命名规则

* [bem 官网](http://getbem.com/)

<br>

## 1. 变量

```less
.transition(@transition) {
  -webkit-transition: @transition;
  -moz-transition: @transition;
  -o-transition: @transition;
  transition: @transition;
}
.opacity(@opacity) {
  opacity: @opacity / 100;
  filter: ~"alpha(opacity=@{opacity})";
}

a {
 .transition(all 0.4s);
  &:hover {
  .opacity(70);
  }
}

@theGoodThings: ~".food, .beer, .sleep, .javascript";

@{theGoodThings} {
  font-weight: bold;
}
```
 
输出:

```css
a {
  -webkit-transition: all 0.4s;
  -moz-transition: all 0.4s;
  -o-transition: all 0.4s;
  transition: all 0.4s;
}
a:hover {
  opacity: 0.7;
  filter: alpha(opacity=70);
}
.food, .beer, .sleep, .javascript {
  font-weight: bold;
}

```

## 变量的使用

* 选择器

```less
@mySelector: banner;

.@{mySelector} {font-weight: bold;}
```

* URLs

```less
@images: "../img";

body {background: url("@{images}/white-sand.png");}
```

* import

```less
@themes: "../../src/themes";

@import "@{themes}/tidal-wave.less";
```

* 属性

```less
@property: color;

.widget {@{property}: #0ee; background-@{property}: #999;}
```

* 变量名（变量的值可以作为其他变量的变量名）

```less
@fnord:  "I am fnord.";
@var:    "fnord";

.clearfix {
  &:after {
    content: @@var;
  }
}
```

`@@var` 等价于` @(@var)` 等价于 `@(fnord)` 等价于 `@fnord`，输出：

```css
.clearfix:after {
  content: "I am fnord.";
}
```

* Lazy Loading

变量可以在使用位置的后面定义

```less
.lazy-eval {
  width: @var; // @var 在下面定义
}

@var: @a;
@a: 9%;
```
当一个变量定义多次时，从当前范围`向上搜索`，使用最后一次定义的值

```less
@var: 0; // scope1, scope2
.class1 {
  @var: 1;
  .class {
    @var: 2;
    three: @var; // 当前范围内的 @var 值为 3
    @var: 3; // scope1_end
  }
  @var: 4;
  five: @var; // 当前范围内的 @var 值为 5
  @var: 5; // scope2_end
}
```

输出

```css
.class1 {
  five: 5;
}
.class1 .class {
  three: 3;
}
```

使用导入文件时也可以重新定义导入文件中的变量，最终 @dark-color 的值为 dark red
 
```less
// library.less
@base-color: green; // 默认值
@dark-color: darken(@base-color, 10%);

// use of library
@import "library.less";
@base-color: red; // 新值
```
